%define	desktop_vendor	anjuta
%define	name		anjuta
%define	version		@VERSION@
%define	release		1
%define	serial		1

Summary:	Integrated Development Environment
Name:		%{name}
Version:	%{version}
Release:	%{release}
Serial:		%{serial}
Copyright:	GPL2
Group:		Development/Tools
URL:		http://anjuta.org/
Vendor:		Naba Kumar  <naba@gnome.org>
Source:		%{name}-%{version}.tar.gz
BuildRoot:	/var/tmp/%{name}-%{version}
Docdir:		%{_docdir}

Requires: 	glib2 >= @GLIB_REQUIRED@
Requires: 	gtk2 >= @GTK_REQUIRED@
Requires: 	ORBit2 >= @ORBIT_REQUIRED@
Requires: 	libglade2 >= @LIBGLADE_REQUIRED@
Requires: 	libgnome >= @GNOME_REQUIRED@
Requires: 	libgnomeui >= @GNOME_UI_REQUIRED@
Requires: 	libgnomeprint22 >= @GNOME_PRINT_REQUIRED@
Requires: 	libgnomeprintui22 >= @GNOME_PRINT_UI_REQUIRED@
Requires: 	gnome-vfs2 >= @GNOME_VFS_REQUIRED@
Requires: 	vte >= @VTE_REQUIRED@
Requires: 	libxml2 >= @LIBXML_REQUIRED@
Requires: 	pango >= @PANGO_REQUIRED@
Requires: 	pcre >= @PCRE_REQUIRED@
Requires: 	devhelp >= @LIBDEVHELP_REQUIRED@
Requires: 	gdl >= @GDL_REQUIRED@
Requires: 	gnome-build >= @GNOMEBUILD_REQUIRED@
Requires: 	graphviz >= @LIBGRAPHVIZ_REQUIRED@
Requires: 	neon >= @NEON_REQUIRED@
Requires: 	subversion >= @SUBVERSION_REQUIRED@

BuildRequires: 	glib2-devel >= @GLIB_REQUIRED@
BuildRequires: 	gtk2-devel >= @GTK_REQUIRED@
BuildRequires: 	ORBit2-devel >= @ORBIT_REQUIRED@
BuildRequires: 	libglade2-devel >= @LIBGLADE_REQUIRED@
BuildRequires: 	libgnome-devel >= @GNOME_REQUIRED@
BuildRequires: 	libgnomeui-devel >= @GNOME_UI_REQUIRED@
BuildRequires: 	libgnomeprint22-devel >= @GNOME_PRINT_REQUIRED@
BuildRequires: 	libgnomeprintui22-devel >= @GNOME_PRINT_UI_REQUIRED@
BuildRequires: 	gnome-vfs2-devel >= @GNOME_VFS_REQUIRED@
BuildRequires: 	vte-devel >= @VTE_REQUIRED@
BuildRequires: 	libxml2-devel >= @LIBXML_REQUIRED@
BuildRequires: 	pango-devel >= @PANGO_REQUIRED@
BuildRequires: 	pcre-devel >= @PCRE_REQUIRED@
BuildRequires: 	devhelp-devel >= @LIBDEVHELP_REQUIRED@
BuildRequires: 	gdl-devel >= @GDL_REQUIRED@
BuildRequires: 	gnome-build-devel >= @GNOMEBUILD_REQUIRED@
BuildRequires: 	graphviz-devel >= @LIBGRAPHVIZ_REQUIRED@
BuildRequires: 	neon-devel >= @NEON_REQUIRED@
BuildRequires: 	subversion-devel >= @SUBVERSION_REQUIRED@

Distribution: 	Any
Packager:     	Naba Kumar  <naba@gnome.org>

%description
Anjuta DevStudio is a versatile Integrated Development Environment (IDE)
on GNOME Desktop Environment and features a number of advanced
programming facilities. These include project management, application and
class wizards, an on-board interactive debugger, powerful source editor,
syntax highlighting, intellisense autocompletions, symbol navigation,
version controls, integrated GUI designing and other tools.

%package devel
Summary:	Libraries and include files for Anjuta plugins development.
Group:		Development/Libraries
Requires:	%{name} = %{version}-%{release}

%description devel
Libraries, header files and API docs for developing Anjuta plugins.

%prep
%setup -q

%build
%configure --disable-plugin-glade
make %{?_smp_mflags}

%install
rm -rf %{buildroot}
%makeinstall
rm -fr %{buildroot}/var/scrollkeeper

%clean
rm -rf %{buildroot}

%post
## if which scrollkeeper-update>/dev/null 2>&1; then \
## 	scrollkeeper-update; \
## fi
if which update-mime-database>/dev/null 2>&1; then \
	update-mime-database %{_datadir}/mime; \
fi

%postun
## if which scrollkeeper-update>/dev/null 2>&1; then \
## 	scrollkeeper-update; \
## fi
if which update-mime-database>/dev/null 2>&1; then \
	update-mime-database %{_datadir}/mime; \
fi

%files
%defattr(-,root,root)
%doc AUTHORS COPYING ChangeLog INSTALL NEWS README TODO
%doc doc/ScintillaDoc.html

%defattr(-,root,root)
%{_bindir}/%{name}*
%{_libdir}/lib%{name}*.so.*
%{_libdir}/%{name}
%{_datadir}/%{name}
%{_datadir}/applications/*%{name}.desktop
%{_datadir}/pixmaps/%{name}
%{_datadir}/doc/%{name}
%{_datadir}/application-registry/%{name}.applications
%{_datadir}/mime-info/%{name}.mime
%{_datadir}/mime-info/%{name}.keys
%{_datadir}/mime/packages/%{name}.xml
%{_datadir}/icons/gnome/48x48/mimetypes/*%{name}.png
## %{_datadir}/gnome/help/%{name}
## %{_datadir}/omf/%{name}
%{_datadir}/locale
%{_mandir}/man1/*

%files devel
%defattr (-, root, root)
%{_includedir}/*%{name}*
%{_libdir}/pkgconfig/*%{name}*
## %{_libdir}/lib%{name}*.a
%{_libdir}/lib%{name}*.la
%{_libdir}/lib%{name}*.so
%{_datadir}/gtk-doc/html/*%{name}*
